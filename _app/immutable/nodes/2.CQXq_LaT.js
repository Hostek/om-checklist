import{t as te,a as A,n as U}from"../chunks/WWvY_NrY.js";import{i as re}from"../chunks/C1AFXXSb.js";import{aj as de,i as he,O as R,m,aa as _e,K as ge,g as b,Z as pe,M as we,N as F,P as B,o as I,ad as be,Q as se,j as ae,R as me,as as D,ah as ne,G as Q,at as ke,W as $e,B as W,au as xe,av as ye,ag as Me,aw as Se,k as Ee,ax as Ie,ay as Ce,ab as Ae,J as Ne,az as Te,aA as ze,I as Oe,aB as Le,q as oe,aC as H,aD as Re,w as C,x as E,t as N,aE as V,v as ie,D as G,e as Be,p as De,y as J}from"../chunks/D2AEZ-KB.js";import{s as He,e as Y}from"../chunks/tx0-BA5e.js";import{p as Z,s as M,b as T,i as Ve}from"../chunks/BVe-v5QL.js";import{w as le}from"../chunks/gAkphAH4.js";function Ge(r,e){return e}function Je(r,e,t,s){for(var a=[],f=e.length,o=0;o<f;o++)ye(e[o].e,a,!0);var c=f>0&&a.length===0&&t!==null;if(c){var h=t.parentNode;Me(h),h.append(t),s.clear(),x(r,e[0].prev,e[f-1].next)}Se(a,()=>{for(var u=0;u<f;u++){var n=e[u];c||(s.delete(n.k),x(r,n.prev,n.next)),Ee(n.e,!c)}})}function Ke(r,e,t,s,a,f=null){var o=r,c={flags:e,items:new Map,first:null};{var h=r;o=m?R(_e(h)):h.appendChild(de())}m&&ge();var u=null,n=!1,_=pe(()=>{var i=t();return Ne(i)?i:i==null?[]:ne(i)});he(()=>{var i=b(_),l=i.length;if(n&&l===0)return;n=l===0;let d=!1;if(m){var w=o.data===we;w!==(l===0)&&(o=F(),R(o),B(!1),d=!0)}if(m){for(var g=null,v,p=0;p<l;p++){if(I.nodeType===8&&I.data===be){o=I,d=!0,B(!1);break}var S=i[p],y=s(S,p);v=ce(I,c,g,null,S,y,p,a,e,t),c.items.set(y,v),g=v}l>0&&R(F())}m||Ye(i,c,o,a,e,s,t),f!==null&&(l===0?u?se(u):u=ae(()=>f(o)):u!==null&&me(u,()=>{u=null})),d&&B(!0),b(_)}),m&&(o=I)}function Ye(r,e,t,s,a,f,o){var c=r.length,h=e.items,u=e.first,n=u,_,i=null,l=[],d=[],w,g,v,p;for(p=0;p<c;p+=1){if(w=r[p],g=f(w,p),v=h.get(g),v===void 0){var S=n?n.e.nodes_start:t;i=ce(S,e,i,i===null?e.first:i.next,w,g,p,s,a,o),h.set(g,i),l=[],d=[],n=i.next;continue}if(Pe(v,w,p),(v.e.f&D)!==0&&se(v.e),v!==n){if(_!==void 0&&_.has(v)){if(l.length<d.length){var y=d[0],$;i=y.prev;var X=l[0],O=l[l.length-1];for($=0;$<l.length;$+=1)j(l[$],y,t);for($=0;$<d.length;$+=1)_.delete(d[$]);x(e,X.prev,O.next),x(e,i,X),x(e,O,y),n=y,i=O,p-=1,l=[],d=[]}else _.delete(v),j(v,n,t),x(e,v.prev,v.next),x(e,v,i===null?e.first:i.next),x(e,i,v),i=v;continue}for(l=[],d=[];n!==null&&n.k!==g;)(n.e.f&D)===0&&(_??(_=new Set)).add(n),d.push(n),n=n.next;if(n===null)continue;v=n}l.push(v),i=v,n=v.next}if(n!==null||_!==void 0){for(var L=_===void 0?[]:ne(_);n!==null;)(n.e.f&D)===0&&L.push(n),n=n.next;var ve=L.length;if(ve>0){var ue=c===0?t:null;Je(e,L,ue,h)}}Q.first=e.first&&e.first.e,Q.last=i&&i.e}function Pe(r,e,t,s){ke(r.v,e),r.i=t}function ce(r,e,t,s,a,f,o,c,h,u){var n=(h&Ie)!==0,_=(h&Ce)===0,i=n?_?$e(a):W(a):a,l=(h&xe)===0?o:W(o),d={i:l,v:i,k:f,a:null,e:null,prev:t,next:s};try{return d.e=ae(()=>c(r,i,l,u),m),d.e.prev=t&&t.e,d.e.next=s&&s.e,t===null?e.first=d:(t.next=d,t.e.next=d.e),s!==null&&(s.prev=d,s.e.prev=d.e),d}finally{}}function j(r,e,t){for(var s=r.next?r.next.e.nodes_start:t,a=e?e.e.nodes_start:t,f=r.e.nodes_start;f!==s;){var o=Ae(f);a.before(f),f=o}}function x(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Ue(r,e,t){var s=r==null?"":""+r;return s=s?s+" "+e:e,s===""?null:s}function qe(r,e,t,s,a,f){var o=r.__className;if(m||o!==t){var c=Ue(t,s);(!m||c!==r.getAttribute("class"))&&(c==null?r.removeAttribute("class"):r.className=c),r.__className=t}return f}const Xe=Symbol("is custom element"),Fe=Symbol("is html");function k(r,e,t,s){var a=Qe(r);m&&(a[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")||a[e]!==(a[e]=t)&&(e==="loading"&&(r[Te]=t),t==null?r.removeAttribute(e):typeof t!="string"&&We(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function Qe(r){return r.__attributes??(r.__attributes={[Xe]:r.nodeName.includes("-"),[Fe]:r.namespaceURI===ze})}var ee=new Map;function We(r){var e=ee.get(r.nodeName);if(e)return e;ee.set(r.nodeName,e=[]);for(var t,s=r,a=Element.prototype;a!==s;){t=Le(s);for(var f in t)t[f].set&&e.push(f);s=Oe(s)}return e}const K=["white","yellow","green","red","blue"],Ze=76,je=()=>{const r=[];for(let e=Ze;e>=1;e--)for(let t=1;t<=3;t++){const s=t===1?e===1?4:12:6;for(let a=1;a<=s;a++)r.push({id:`${e}.${t}.${a}`,bgColor:"white"})}return r},et="om-checklist";function fe(r,e){const t=typeof window<"u",s=`${et}-${r}`,a=t?localStorage.getItem(s):null,f=a?JSON.parse(a):e,o=le(f,c=>{if(!t)return;const h=u=>{if(u.key===s){const n=u.newValue?JSON.parse(u.newValue):e;c(n)}};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)});return t&&o.subscribe(c=>{try{localStorage.setItem(s,JSON.stringify(c))}catch(h){console.error("LocalStorage error:",h)}}),{...o,reset:()=>o.set(e)}}const P=fe("checklist-om",je()),z=fe("theme","dark");var tt=te('<div tabindex="0" role="button"> </div>');function rt(r,e){oe(e,!1);const[t,s]=T(),a=()=>M(P,"$checklistOM",t),f=()=>M(z,"$theme",t),o=V(),c=V(),h=V();let u=Z(e,"id",8),n=Z(e,"content",8);function _(){P.update(w=>{const g=[...w],v=w[b(o)].bgColor;let p=K.findIndex(S=>S===v)+1;return p>=K.length&&(p=0),g[b(o)].bgColor=K[p],g})}function i(w){(w.key==="Enter"||w.key===" ")&&_()}H(()=>(a(),Be(u())),()=>{G(o,a().findIndex(w=>w.id===u()))}),H(()=>(a(),b(o)),()=>{G(c,a()[b(o)].bgColor)}),H(()=>b(o),()=>{G(h,5+b(o))}),Re(),re();var l=tt(),d=C(l,!0);E(l),N(()=>{k(l,"id",u()),qe(l,1,`boxy ${b(c)}`,"svelte-1hbsp8b"),k(l,"data-theme",f()),He(d,n())}),Y("keydown",l,i),Y("click",l,_),A(r,l),ie(),s()}const q=le("max(3vw, 3vh)");var st=U('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.9a3.4 3.4 0 0 0-1-2.6c3.2-.3 6.5-1.5 6.5-7A5.4 5.4 0 0 0 20 4.8 5 5 0 0 0 20 1s-1.3-.3-4 1.5a13.4 13.4 0 0 0-7 0C6.3.6 5 1 5 1a5 5 0 0 0 0 3.8 5.4 5.4 0 0 0-1.5 3.7c0 5.5 3.3 6.7 6.4 7a3.4 3.4 0 0 0-.9 2.6V22"></path></svg>');function at(r){const[e,t]=T(),s=()=>M(q,"$iconSize",e);var a=st();N(()=>{k(a,"width",s()),k(a,"height",s())}),A(r,a),t()}var nt=U('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M21 12.8A9 9 0 1 1 11.2 3a7 7 0 0 0 9.8 9.8z"></path></svg>');function ot(r){const[e,t]=T(),s=()=>M(q,"$iconSize",e);var a=nt();N(()=>{k(a,"width",s()),k(a,"height",s())}),A(r,a),t()}var it=U('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"></path></svg>');function lt(r){const[e,t]=T(),s=()=>M(q,"$iconSize",e);var a=it();N(()=>{k(a,"width",s()),k(a,"height",s())}),A(r,a),t()}var ct=te('<header class="roboto-font svelte-1bzxo6c"><div class="title svelte-1bzxo6c">om-checklist</div> <div class="btne svelte-1bzxo6c"><a aria-label="Github" href="https://github.com/Hostek/om-checklist" target="_blank" rel="noopener" tabindex="0" class="svelte-1bzxo6c"><!></a> <button aria-label="Toggle Theme" tabindex="0" class="svelte-1bzxo6c"><!></button></div></header> <main class="content roboto-font svelte-1bzxo6c"></main>',1);function gt(r,e){oe(e,!1);const[t,s]=T(),a=()=>M(z,"$theme",t),f=()=>M(P,"$checklistOM",t);re();var o=ct(),c=De(o),h=J(C(c),2),u=C(h),n=C(u);at(n),E(u);var _=J(u,2),i=C(_);{var l=g=>{ot(g)},d=g=>{lt(g)};Ve(i,g=>{a()==="dark"?g(l):g(d,!1)})}E(_),E(h),E(c);var w=J(c,2);Ke(w,5,f,Ge,(g,v)=>{rt(g,{get id(){return b(v).id},get content(){return b(v).id}})}),E(w),N(()=>k(c,"data-theme",a())),Y("click",_,()=>{a()==="dark"?z.set("light"):z.set("dark")}),A(r,o),ie(),s()}export{gt as component};
